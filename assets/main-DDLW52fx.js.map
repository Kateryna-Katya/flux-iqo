{"version":3,"file":"main-DDLW52fx.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 0. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    const refreshIcons = () => window.lucide && window.lucide.createIcons();\n    refreshIcons();\n\n    // 1. МОБИЛЬНОЕ МЕНЮ\n    const initMenu = () => {\n        const burger = document.getElementById('burger');\n        const nav = document.getElementById('nav');\n        if (!burger || !nav) return;\n\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('active');\n            nav.classList.toggle('active');\n            document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';\n        });\n\n        // Закрытие при клике на ссылки\n        nav.querySelectorAll('.nav__link').forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('active');\n                nav.classList.remove('active');\n                document.body.style.overflow = '';\n            });\n        });\n    };\n\n    // 2. COOKIE POPUP\n    const initCookies = () => {\n        const popup = document.getElementById('cookie-popup');\n        const acceptBtn = document.getElementById('cookie-accept');\n        \n        if (!popup || !acceptBtn) return;\n\n        // Показываем, если еще не принимали\n        if (!localStorage.getItem('flux_cookies_accepted')) {\n            setTimeout(() => popup.classList.add('active'), 2000);\n        }\n\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('flux_cookies_accepted', 'true');\n            popup.classList.remove('active');\n        });\n    };\n\n    // 3. КАПЧА И ФОРМА (БЕЗОПАСНАЯ ВЕРСИЯ)\n    const initForm = () => {\n        const form = document.getElementById('contact-form');\n        let correctAnswer = 0;\n\n        const genCaptcha = () => {\n            const q = document.getElementById('captcha-question');\n            if (!q) return;\n            const n1 = Math.floor(Math.random() * 10) + 1;\n            const n2 = Math.floor(Math.random() * 10) + 1;\n            correctAnswer = n1 + n2;\n            q.textContent = `${n1} + ${n2}`;\n        };\n\n        if (form) {\n            genCaptcha();\n            form.addEventListener('submit', function(e) {\n                e.preventDefault();\n                const userAns = parseInt(document.getElementById('captcha-answer').value);\n                \n                if (userAns !== correctAnswer) {\n                    alert('Неверная капча!');\n                    genCaptcha();\n                    return;\n                }\n\n                // Ищем кнопку внутри формы (безопасно)\n                const btn = this.querySelector('button[type=\"submit\"]');\n                if (btn) {\n                    btn.disabled = true;\n                    const span = btn.querySelector('span');\n                    if (span) span.textContent = 'Отправка...';\n                }\n\n                setTimeout(() => {\n                    this.innerHTML = `<div style=\"text-align:center; padding:30px;\"><h3>Успешно!</h3><p>Мы свяжемся с вами.</p></div>`;\n                }, 1500);\n            });\n        }\n    };\n\n    // 4. GSAP И ПОДГРУЗКА ЭЛЕМЕНТОВ\n    const initAnimations = () => {\n        if (typeof gsap === 'undefined') return;\n        gsap.registerPlugin(ScrollTrigger);\n\n        // Фикс разрыва слов в Hero\n        const h1 = document.querySelector('.hero__title');\n        if (h1 && typeof SplitType !== 'undefined') {\n            const text = new SplitType(h1, { types: 'words, chars' });\n            gsap.from(text.chars, { opacity: 0, y: 30, stagger: 0.02, duration: 1 });\n        }\n\n        // Подгрузка глубинных элементов (теперь они точно появятся)\n        const reveal = (targets, trigger) => {\n            if (document.querySelector(targets)) {\n                gsap.from(targets, {\n                    scrollTrigger: { trigger: trigger, start: \"top 85%\" },\n                    y: 40, opacity: 0, stagger: 0.15, duration: 1,\n                    onComplete: refreshIcons\n                });\n            }\n        };\n\n        reveal('.innovation-item', '.innovations');\n        reveal('.tech-card', '.innovations__visual');\n        reveal('.blog-card', '.blog__grid');\n        reveal('.benefit-card', '.benefits__grid');\n    };\n\n    // ЗАПУСК ВСЕХ МОДУЛЕЙ\n    initMenu();\n    initCookies();\n    initForm();\n    initAnimations();\n});"],"names":["refreshIcons","initMenu","burger","nav","link","initCookies","popup","acceptBtn","initForm","form","correctAnswer","genCaptcha","q","n1","n2","e","btn","span","initAnimations","h1","text","reveal","targets","trigger"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAEhD,MAAMA,EAAe,IAAM,OAAO,QAAU,OAAO,OAAO,YAAa,EACvEA,EAAc,EAGd,MAAMC,EAAW,IAAM,CACnB,MAAMC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAM,SAAS,eAAe,KAAK,EACrC,CAACD,GAAU,CAACC,IAEhBD,EAAO,iBAAiB,QAAS,IAAM,CACnCA,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAI,UAAU,OAAO,QAAQ,EAC7B,SAAS,KAAK,MAAM,SAAWA,EAAI,UAAU,SAAS,QAAQ,EAAI,SAAW,EACzF,CAAS,EAGDA,EAAI,iBAAiB,YAAY,EAAE,QAAQC,GAAQ,CAC/CA,EAAK,iBAAiB,QAAS,IAAM,CACjCF,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAI,UAAU,OAAO,QAAQ,EAC7B,SAAS,KAAK,MAAM,SAAW,EAC/C,CAAa,CACb,CAAS,EACJ,EAGKE,EAAc,IAAM,CACtB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAC9CC,EAAY,SAAS,eAAe,eAAe,EAErD,CAACD,GAAS,CAACC,IAGV,aAAa,QAAQ,uBAAuB,GAC7C,WAAW,IAAMD,EAAM,UAAU,IAAI,QAAQ,EAAG,GAAI,EAGxDC,EAAU,iBAAiB,QAAS,IAAM,CACtC,aAAa,QAAQ,wBAAyB,MAAM,EACpDD,EAAM,UAAU,OAAO,QAAQ,CAC3C,CAAS,EACJ,EAGKE,EAAW,IAAM,CACnB,MAAMC,EAAO,SAAS,eAAe,cAAc,EACnD,IAAIC,EAAgB,EAEpB,MAAMC,EAAa,IAAM,CACrB,MAAMC,EAAI,SAAS,eAAe,kBAAkB,EACpD,GAAI,CAACA,EAAG,OACR,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACtCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EAC5CJ,EAAgBG,EAAKC,EACrBF,EAAE,YAAc,GAAGC,CAAE,MAAMC,CAAE,EAChC,EAEGL,IACAE,EAAY,EACZF,EAAK,iBAAiB,SAAU,SAASM,EAAG,CAIxC,GAHAA,EAAE,eAAgB,EACF,SAAS,SAAS,eAAe,gBAAgB,EAAE,KAAK,IAExDL,EAAe,CAC3B,MAAM,iBAAiB,EACvBC,EAAY,EACZ,MACpB,CAGgB,MAAMK,EAAM,KAAK,cAAc,uBAAuB,EACtD,GAAIA,EAAK,CACLA,EAAI,SAAW,GACf,MAAMC,EAAOD,EAAI,cAAc,MAAM,EACjCC,IAAMA,EAAK,YAAc,cACjD,CAEgB,WAAW,IAAM,CACb,KAAK,UAAY,iGACpB,EAAE,IAAI,CACvB,CAAa,EAER,EAGKC,EAAiB,IAAM,CACzB,GAAI,OAAO,KAAS,IAAa,OACjC,KAAK,eAAe,aAAa,EAGjC,MAAMC,EAAK,SAAS,cAAc,cAAc,EAChD,GAAIA,GAAM,OAAO,UAAc,IAAa,CACxC,MAAMC,EAAO,IAAI,UAAUD,EAAI,CAAE,MAAO,eAAgB,EACxD,KAAK,KAAKC,EAAK,MAAO,CAAE,QAAS,EAAG,EAAG,GAAI,QAAS,IAAM,SAAU,CAAC,CAAE,CACnF,CAGQ,MAAMC,EAAS,CAACC,EAASC,IAAY,CAC7B,SAAS,cAAcD,CAAO,GAC9B,KAAK,KAAKA,EAAS,CACf,cAAe,CAAE,QAASC,EAAS,MAAO,SAAW,EACrD,EAAG,GAAI,QAAS,EAAG,QAAS,IAAM,SAAU,EAC5C,WAAYvB,CAChC,CAAiB,CAER,EAEDqB,EAAO,mBAAoB,cAAc,EACzCA,EAAO,aAAc,sBAAsB,EAC3CA,EAAO,aAAc,aAAa,EAClCA,EAAO,gBAAiB,iBAAiB,CAC5C,EAGDpB,EAAU,EACVI,EAAa,EACbG,EAAU,EACVU,EAAgB,CACpB,CAAC"}